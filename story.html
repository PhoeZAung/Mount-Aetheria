<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mount Aetheria - Story</title>
<link href="https://fonts.googleapis.com/css2?family=Uncial+Antiqua&display=swap" rel="stylesheet">
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(to bottom, #222, #444);
  display: flex;
  height: 100vh;
  overflow: hidden;
}

/* ---------- TOP NAV ---------- */
.top-nav {
  width: 100%;
  background: #111;
  padding: 15px 20px;
  display: flex;
  justify-content: space-around;
  align-items: center;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 2000;
}

.top-nav a {
  color: white;
  text-decoration: none;
  font-size: 18px;
  font-weight: 600;
  font-family: 'Uncial Antiqua', serif;
}

.top-nav a:hover {
  color: #ffcc66;
}

/* ---------- LAYOUT ---------- */
.sidebar {
  width: 200px;
  background: #111;
  padding-top: 100px; /* leave space for top nav */
  display: flex;
  flex-direction: column;
  gap: 10px;
  overflow-y: auto;
}

/* Sidebar buttons for main tags */
.sidebar h3 {
  color: #ffcc66;
  text-align: center;
  margin: 10px 0;
}

.sidebar button {
  background: #333;
  color: #fff;
  border: none;
  padding: 10px;
  cursor: pointer;
  border-radius: 8px;
  width: 90%;
  margin: 0 auto;
  text-align: left;
  font-weight: bold;
}

.sidebar button:hover, .sidebar button.active {
  background: #ffcc66;
  color: #111;
}

/* Important Characters tile */
.sidebar .important {
  text-align: center;
  background: #222;
  color: #ffcc66;
  font-weight: bold;
  padding: 8px 0;
  border-radius: 8px;
  margin: 10px 5%;
  border: 1px solid #ffcc66;
}

/* Character filter squares under Important Characters */
.character-filter {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
  margin: 10px 0 20px 0;
}

.character-filter button {
  width: 60px;
  height: 60px;
  background: #333;
  color: #fff;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  font-weight: bold;
  font-size: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  transition: 0.2s;
}

.character-filter button:hover, .character-filter button.active {
  background: #ffcc66;
  color: #111;
}

/* Main content area */
.main-content {
  flex: 1;
  overflow-y: auto;
  padding: 120px 20px 20px 20px; /* top padding for nav */
}

/* ---------- STORY ENTRIES ---------- */
.story-entry {
  background: #222;
  color: #fff;
  border-radius: 12px;
  margin-bottom: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
}

.story-entry h3 {
  margin: 0;
  padding: 15px;
  cursor: pointer;
  user-select: none;
  font-family: 'Uncial Antiqua', serif;
}

.story-entry .content {
  padding: 15px;
  display: none;
}

.story-entry img {
  max-width: 100%;
  border-radius: 8px;
  margin-top: 10px;
}

.story-entry .content.show {
  display: block;
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from {opacity: 0;}
  to {opacity: 1;}
}
</style>
</head>
<body>

<!-- TOP NAV -->
<nav class="top-nav">
  <a href="index.html">Home</a>
  <a href="story.html">Story</a>
  <a href="tools.html">Tools</a>
  <a href="characters.html">Character Sheet</a>
  <a href="discussions.html">Discussion</a>
</nav>

<!-- LEFT SIDEBAR -->
<div class="sidebar">
  <!-- Main tag filter -->
  <h3>Tags</h3>
  <button class="tag-btn active" data-tag="all">All</button>
  <button class="tag-btn" data-tag="session">Session</button>
  <button class="tag-btn" data-tag="player">Player Character</button>
  <button class="tag-btn" data-tag="npc">NPC</button>
  <button class="tag-btn" data-tag="event">Event</button>

  <!-- Important Characters Tile -->
  <div class="important">Important Characters</div>

  <!-- Character filter squares -->
  <div class="character-filter">
    <button class="char-btn active" data-char="all">All</button>
    <button class="char-btn" data-char="kalen">Kal'en</button>
    <button class="char-btn" data-char="lira">Lira</button>
    <button class="char-btn" data-char="npc">NPCs</button>
  </div>
</div>

<!-- MAIN CONTENT -->
<div class="main-content" id="story-container">
  <div class="story-entry" data-tag="session" data-char="kalen">
    <h3>Session 1: Arrival in Kal'en</h3>
    <div class="content">
      <p>The adventurers arrive at the bustling city of Kal'en...</p>
      <img src="images/session1.jpg" alt="Session 1">
    </div>
  </div>

  <div class="story-entry" data-tag="session" data-char="lira">
    <h3>Session 1: Liraâ€™s Secret</h3>
    <div class="content">
      <p>Lira sneaks into the castle to gather information...</p>
      <img src="images/session2.jpg" alt="Session 2">
    </div>
  </div>

  <div class="story-entry" data-tag="player" data-char="kalen">
    <h3>Prince Kal'en</h3>
    <div class="content">
      <p>Prince Kal'en struggles with the pressures of leadership...</p>
      <img src="images/prince_kalen.jpg" alt="Prince Kal'en">
    </div>
  </div>

  <div class="story-entry" data-tag="event" data-char="npc">
    <h3>Festival of the Phoenix</h3>
    <div class="content">
      <p>The annual festival brings joy and surprises, but hidden plots linger...</p>
      <img src="images/festival.jpg" alt="Festival">
    </div>
  </div>
</div>

<script>
// COLLAPSIBLE ENTRIES
document.querySelectorAll('.story-entry h3').forEach(title => {
  title.addEventListener('click', () => {
    const content = title.nextElementSibling;
    content.classList.toggle('show');
  });
});

// FILTERING
const tagButtons = document.querySelectorAll('.tag-btn');
const charButtons = document.querySelectorAll('.char-btn');
const entries = document.querySelectorAll('.story-entry');

function filterEntries() {
  const activeTag = document.querySelector('.tag-btn.active').dataset.tag;
  const activeChar = document.querySelector('.char-btn.active').dataset.char;

  entries.forEach(entry => {
    const matchesTag = activeTag === 'all' || entry.dataset.tag === activeTag;
    const matchesChar = activeChar === 'all' || entry.dataset.char === activeChar;

    entry.style.display = matchesTag && matchesChar ? 'block' : 'none';
  });
}

// TAG BUTTON CLICK
tagButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    tagButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    filterEntries();
  });
});

// CHARACTER BUTTON CLICK
charButtons.forEach(btn => {
  btn.addEventListener('click', () => {
    charButtons.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    filterEntries();
  });
});
</script>

</body>
</html>
